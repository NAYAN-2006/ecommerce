import{c as f,r as n,u as j,i as w,f as N,j as e,m as c,L as d,S as p,H as k,h as S,k as x}from"./index-BiXGeftE.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=f("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I=({product:s})=>{const[i,l]=n.useState(!1),[r,h]=n.useState(!0),{addToCart:m,addToWishlist:g,removeFromWishlist:v,wishlist:b}=j(),t=w(s.id,b),o=s.originalPrice?N(s.originalPrice,s.price):0,y=a=>{a.preventDefault(),m(s,1)},u=a=>{a.preventDefault(),t?v(s.id):g(s)};return e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"group relative",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:e.jsx(d,{to:`/products/${s.id}`,className:"block",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[r&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),e.jsx("img",{src:s.image,alt:s.name,className:`w-full h-full object-cover transition-transform duration-300 ${i?"scale-105":"scale-100"} ${r?"opacity-0":"opacity-100"}`,onLoad:()=>h(!1)}),o>0&&e.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:["-",o,"%"]}),!s.inStock&&e.jsx("div",{className:"absolute top-2 right-2 bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded",children:"Out of Stock"}),e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:i?1:0},className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:y,disabled:!s.inStock,className:"bg-white text-gray-800 p-2 rounded-full hover:bg-primary-600 hover:text-white transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add to cart",children:e.jsx(p,{className:"h-4 w-4"})}),e.jsx("button",{onClick:u,className:`p-2 rounded-full transition-colors duration-200 ${t?"bg-red-500 text-white":"bg-white text-gray-800 hover:bg-red-500 hover:text-white"}`,title:t?"Remove from wishlist":"Add to wishlist",children:e.jsx(k,{className:"h-4 w-4",fill:t?"currentColor":"none"})}),e.jsx(d,{to:`/products/${s.id}`,className:"bg-white text-gray-800 p-2 rounded-full hover:bg-primary-600 hover:text-white transition-colors duration-200",title:"View details",children:e.jsx(C,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:s.category}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-primary-600 transition-colors duration-200",children:s.name}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex items-center text-yellow-400 text-sm",children:S(s.rating)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",s.reviews.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-bold text-lg text-gray-900",children:x(s.price)}),s.originalPrice&&e.jsx("span",{className:"text-sm text-gray-500 line-through",children:x(s.originalPrice)})]}),s.inStock&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["In stock (",s.stockCount," available)"]})]})]})})})};export{I as P};
